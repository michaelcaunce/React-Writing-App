(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{212:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(9),l=a(4),r=a(3),o=a(2),m=a.n(o),i=a(131),u=a.n(i),d=a(23),p=a(18),f=(a(22),a(11)),E=a(7);t.default=Object(l.g)((function(e){const t=Object(n.useContext)(f.a),a=Object(n.useContext)(E.a),{id:o}=Object(l.f)(),[i,h]=Object(n.useState)(!0),[b,g]=Object(n.useState)();if(Object(n.useEffect)(()=>{const e=m.a.CancelToken.source();return async function(){try{const t=await m.a.get("/post/"+o,{cancelToken:e.token});g(t.data),h(!1)}catch(e){console.log("There was an error or the request was cancelled")}}(),()=>{e.cancel()}},[o]),!i&&!b)return s.a.createElement(c.a,{title:"Not Found"},s.a.createElement("div",{className:"text-center content-container"},s.a.createElement("h2",null,"We cannot find this page"),s.a.createElement("p",{className:"lead text-muted"},"Please return to the ",s.a.createElement(r.b,{to:"/"},"Homepage"))));if(i)return s.a.createElement(c.a,{title:"..."},s.a.createElement(p.a,null));const w=new Date(b.createdDate),y=`${w.getDate()}/${w.getMonth()+1}/${w.getFullYear()}`;return s.a.createElement(c.a,{title:b.title},s.a.createElement("div",{className:"content-container"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h2",null,b.title),!!t.loggedIn&&t.user.username==b.author.username&&s.a.createElement("span",{className:"pt-2"},s.a.createElement(r.b,{to:`/post/${b._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement(d.a,{id:"edit",className:"custom-tooltip"})," ",s.a.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await m.a.delete("/post/"+o,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Post was successfully deleted."}),e.history.push("/profile/"+t.user.username))}catch(e){console.log("There was a problem.")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},s.a.createElement("i",{className:"fas fa-trash"})),s.a.createElement(d.a,{id:"delete",className:"custom-tooltip"}))),s.a.createElement("p",{className:"text-muted small mb-4"},s.a.createElement(r.b,{to:"/profile/"+b.author.username},s.a.createElement("img",{className:"avatar-tiny",src:b.author.avatar})),"Posted by ",s.a.createElement(r.b,{to:"/profile/"+b.author.username},b.author.username)," on ",y),s.a.createElement("div",{className:"body-content"},s.a.createElement(u.a,{source:b.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem","image","blockquote"]}))))}))}}]);